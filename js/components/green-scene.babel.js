import Module from './module';
import COLORS from './colors';

class GreenScene extends Module {
  /*
    Method for initial module's render.
    @private
  */
  _render () {
    super._render();
    let greenBg = document.querySelector('#js-green-bg'),
        timeline = new mojs.Timeline({
          delay: this._props.delay,
          onStart:(isFwd) => { this._toggleOpacity( greenBg, isFwd ); },
          onComplete: (isFwd) => { this._toggleOpacity( greenBg, !isFwd ); }
        });

    greenBg.style[ 'background' ] = COLORS.GREEN;

    let pinkSquare = new mojs.Transit({
      left: '50%', top: '50%',
      shape:        'rect',
      stroke:       COLORS.HOTPINK,
      strokeWidth:  40,
      angle:        { '-240': 0 },
      radius:       20,
      scale:        { 0 : 2 },
      duration:     1500,
      fill:         'none',
      easing:       'expo.out',
      parent:       greenBg,
    });

    class Trails extends mojs.CustomShape {
      getShape () { return '<path d="M11.8274713,76.9078071 C11.8274713,76.9078071 2.16693973,42.95046 30.0687526,21.2517012"></path><path d="M25.7538383,77.4836394 C25.7538383,77.4836394 20.7413252,19.6928312 92.8457655,18.1298659"></path><path d="M29.8949928,85.1781099 C29.8949928,85.1781099 41.4904038,48.3985179 81.1308462,59.416066"></path>'; }
    }
    mojs.addShape( 'trails', Trails );


    const TRAIL_OPTS = {
      shape:    'trails',
      parent:   pinkSquare.el,
      radius:   15,
      left:     '130%',
      top:      '25%',
      fill:     'none',
      strokeWidth: { 10 : 0 },
      stroke: 'white',
      strokeDasharray: '75',
      strokeDashoffset: { '75' : '-75' },
      duration: 1000,
      strokeLinecap: 'round'
    }

    const trails1 = new mojs.Shape({
      ...TRAIL_OPTS,
      left:     '125%',
      top:      '25%',
      angle:    80,
    });

    const trails2 = new mojs.Shape({
      ...TRAIL_OPTS,
      top:     '125%',
      left:    '80%',
      angle:    165,
    });

    const trails3 = new mojs.Shape({
      ...TRAIL_OPTS,
      top:     '75%',
      left:    '-25%',
      angle:    250,
    });

    const trails4 = new mojs.Shape({
      ...TRAIL_OPTS,
      top:     '-25%',
      left:    '20%',
      angle:    330,
    });

    // class Heart extends mojs.CustomShape {
    //   getShape () { return '<path d="M10.7587947,14.3149703 C11.7575257,14.3122037 12.7230579,15.0066123 13.0107809,15.9666113 C14.2004051,19.6184809 15.315332,23.292483 16.4966565,26.9443526 C16.845244,27.2901736 17.3293934,27.4589343 17.7443786,27.7134585 C17.0527366,25.4255069 16.2919304,23.1596878 15.6058216,20.8745027 C15.2019027,19.541017 16.2282994,17.9945056 17.6337159,17.9170417 C18.7458761,17.7538142 19.8746358,18.5146203 20.1706586,19.5908152 C21.3990147,23.4280449 22.5858723,27.2791073 23.8225282,31.1135704 C26.0302493,32.3114943 30.4097263,34.7682066 30.4097263,34.7682066 L79.4499084,61.8639723 C79.4499084,61.8639723 88.5906486,67.0678865 93.1499525,69.6905928 C92.3946795,67.3888084 91.661539,65.0814908 90.9671304,62.7631069 C90.521713,61.3687567 91.7473026,59.7890464 93.1997507,59.8250118 C94.3202107,59.7392482 95.330008,60.6190168 95.5900654,61.6786123 C96.8101218,65.5684067 98.0550773,69.452668 99.2668341,73.3479956 C99.6956521,74.5708186 98.9542119,76.0287998 97.6926569,76.3580214 C93.7392314,77.6583083 89.7775063,78.9336961 85.8157811,80.214617 C84.6095575,80.6683341 83.1266771,79.9573262 82.7697898,78.7068375 C82.3382052,77.5697781 83.0160144,76.1588285 84.1669066,75.7770421 C86.2805645,75.035602 88.4274211,74.3937582 90.5466121,73.6799837 C85.6719195,70.918949 75.9446669,65.3609141 75.9446669,65.3609141 L28.7968172,39.3247439 C28.7968172,39.3247439 23.529272,36.3894154 20.9010325,34.9176012 C17.395791,36.0297615 13.9043824,37.1889535 10.4019074,38.3066469 C9.46957406,38.5916034 8.36571348,38.3038803 7.77920109,37.5015756 C6.82750175,36.3479168 7.33655023,34.3421551 8.7779321,33.8580057 C10.9137225,33.1220987 13.0771786,32.4553558 15.2268018,31.7526476 C14.8975802,31.5672875 14.5711252,31.3791609 14.2446702,31.1882678 C10.5651349,32.3861916 6.8828331,33.5785824 3.1977647,34.76544 C1.80341449,35.2578891 0.162839742,34.0654983 0.176672582,32.5936842 C0.0798427061,31.4925902 0.901513364,30.4606604 1.94727602,30.1840036 C5.14542848,29.1410075 8.34358094,28.1035446 11.5445,27.0743813 C10.5319361,23.8264306 9.48064034,20.5895462 8.48190933,17.338829 C8.02542563,15.891914 9.2510152,14.2817715 10.7587947,14.3149703 L10.7587947,14.3149703 Z" id="Shape" fill="#010101"></path><path d="M58.4840599,29.4695294 C61.3055736,26.9928432 64.8536109,25.3446107 68.5881588,24.8956842 C72.7456083,24.3708523 77.0830622,25.2426805 80.6766428,27.4135762 C84.6042073,29.7601388 87.6295814,33.5879419 88.9850358,37.9622642 C90.3947083,42.4255042 90.0802429,47.4200824 88.0654956,51.6491 C87.1155931,53.7462589 85.7080894,55.6005205 84.1010627,57.2335719 C75.885925,65.4443722 67.6794622,73.6595099 59.4643244,81.8681414 C59.0067231,82.4103231 58.1305574,82.5014097 57.625244,81.9722403 C49.2995012,73.6551724 40.9759271,65.3315984 32.6588592,57.0036868 C29.7766211,54.1019302 27.8247669,50.2676209 27.3042724,46.2012579 C26.5300369,40.8076339 28.2454999,35.1103882 31.9084797,31.0700499 C35.0075905,27.52635 39.507699,25.2491867 44.1964867,24.8327912 C49.3320321,24.310128 54.6367382,26.0277597 58.4840599,29.4695294 Z" id="Shape"></path><path d="M45.2083665,44.099671 C46.2116533,43.6742938 47.2861061,44.0759074 48.1662345,44.5949039 C53.069133,47.2276453 58.0118846,49.7906852 62.9056038,52.4400114 C64.5048085,53.3372503 64.6330831,55.8927617 63.1512511,56.9593968 C62.2696584,57.7025562 60.9602441,57.7450291 59.9746766,57.1874277 C54.9999621,54.5474356 50.0188634,51.9109193 45.0472844,49.2675648 C44.3255264,48.9056803 43.7118789,48.2862985 43.5051671,47.4900637 C43.0451351,46.1464382 43.8943213,44.5684286 45.2083665,44.099671 L45.2083665,44.099671 L45.2083665,44.099671 Z" id="Shape" fill="#010101"></path>'; }
    // }

    // mojs.addShape( 'heart', Heart ); // passing name and Heart class

    // const heart = new mojs.Shape({
    //   shape: 'heart',
    //   fill: 'cyan',
    //   scale: { 0: 1 },
    //   y:     { 0: 'rand(0, -300)' },
    //   strokeWidth: { 10: 0 },
    //   parent: pinkSquare.el,
    //   strokeDasharray: '200',
    //   stroke: 'white',
    //   radius: 20,
    //   duration: 1500,
    //   strokeWidth: { 10: 0 }
    // });
    
    return timeline.add(
      pinkSquare,
      trails1,
      trails2,
      trails3,
      trails4,
      // heart
    );
  }
}

export default GreenScene;